<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>SinglyFacebookService Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">SinglySDK </a></h1>
				<a id="developerHome" href="../index.html">Singly, Inc</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">SinglyFacebookService Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/urlSchemeSuffix">&nbsp;&nbsp;&nbsp;&nbsp;urlSchemeSuffix</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/isAppAuthorizationConfigured">&nbsp;&nbsp;&nbsp;&nbsp;- isAppAuthorizationConfigured</option>
	
	<option value="//api/name/isNativeAuthorizationConfigured">&nbsp;&nbsp;&nbsp;&nbsp;- isNativeAuthorizationConfigured</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/urlSchemeSuffix">urlSchemeSuffix</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isAppAuthorizationConfigured">isAppAuthorizationConfigured</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isNativeAuthorizationConfigured">isNativeAuthorizationConfigured</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="SinglyFacebookService Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">SinglyFacebookService Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/SinglyService.html">SinglyService</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">SinglyFacebookService.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>A subclass of <a href="../Classes/SinglyService.html"><code>SinglyService</code></a> that adds support for authorization using
either the native support available on iOS 6+ or the Facebook app that is
installed on the user&rsquo;s device. If either of those methods are not available,
the standard web-based workflow will be attempted.</p>

<h3>Supporting Native Authorization on iOS 6+</h3>

<p>Before native authorization can be used, you must first register your app at
the <a href="https://developers.facebook.com/apps">Facebook Developers site</a> as a
&ldquo;Native iOS App&rdquo;. Be sure to set the &ldquo;Bundle ID&rdquo; on your Facebook app to the
exact bundle identifier that is configured in your <code>Info.plist</code> file. You
should also <a href="https://singly.com/docs/api-keys/facebook">configure your app</a>
for the standard web-based workflow.</p>

<h3>Supporting Authorization via the Facebook App</h3>

<p>If the user has the Facebook app installed on their device (and native
authorization is not available), the <code>SinglyFacebookService</code> will attempt to
authorize the user via the installed app. For this to work, you will need to
enable your app to handle launches with the Facebook URL scheme.</p>

<h4>Registering Your Facebook URL Scheme</h4>

<p>Add the following to your <code>Info.plist</code> file, replacing the 0&rsquo;s with your
actual Facebook App ID (from the
<a href="https://developers.facebook.com/apps">developers site</a>):</p>

<pre><code>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;
&lt;array&gt;
  &lt;dict&gt;
    &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
    &lt;array&gt;
      &lt;string&gt;fb000000000000000&lt;/string&gt;
    &lt;/array&gt;
  &lt;/dict&gt;
&lt;/array&gt;
</code></pre>

<h4>Handling Facebook URLs in Your App</h4>

<p>Just registering your app to open with your app-specific Facebook URL is not
enough to complete the round-trip request. We need to also be able to handle
this URL by passing it along to the Singly SDK so that it can complete the
authorization workflow. In your application delegate, implement the following
method:</p>

<pre><code>- (BOOL)application:(UIApplication *)application
            openURL:(NSURL *)url
  sourceApplication:(NSString *)sourceApplication
         annotation:(id)annotation
{
    return [SinglySession.sharedSession handleOpenURL:url];
}
</code></pre>

<p>If you already have this method implemented, you may need to modify it to
check for Facebook URLs and pass only those to the Singly SDK.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/isAppAuthorizationConfigured">&ndash;&nbsp;isAppAuthorizationConfigured</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/isNativeAuthorizationConfigured">&ndash;&nbsp;isNativeAuthorizationConfigured</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/urlSchemeSuffix">&nbsp;&nbsp;urlSchemeSuffix</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/urlSchemeSuffix" title="urlSchemeSuffix"></a>
	<h3 class="subsubtitle method-title">urlSchemeSuffix</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If your app requires a URL scheme suffix, set it here before requesting
authorization. When authenticating a user via the Facebook app, it will be
passed as <code>local_client_id</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (strong) NSString *urlSchemeSuffix</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>See <a href="https://developers.facebook.com/docs/howtos/share-appid-across-multiple-apps-ios-sdk/">this article at the Facebook developer site</a>
for more.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SinglyFacebookService.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/isAppAuthorizationConfigured" title="isAppAuthorizationConfigured"></a>
	<h3 class="subsubtitle method-title">isAppAuthorizationConfigured</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Determines whether or not the app can use the installed Facebook app to
perform authorization requests.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)isAppAuthorizationConfigured</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><code>YES</code> if the app is configured correctly for authorization via the
installed Facebook app.</p>
	</div>
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in Singly iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SinglyFacebookService.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isNativeAuthorizationConfigured" title="isNativeAuthorizationConfigured"></a>
	<h3 class="subsubtitle method-title">isNativeAuthorizationConfigured</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Determines whether or not the current device is signed into Facebook (in
Settings) using the native support offered in iOS 6 and higher.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)isNativeAuthorizationConfigured</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><code>YES</code> if the device is configured for native authorization.</p>
	</div>
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in Singly iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method will query the account store and operates under the following,
undocumented assumptions (as of iOS 6.0):</p>

<ul>
<li><p>If the user has not signed into Facebook on their device, the account
store will return <code>nil</code> when requesting Facebook accounts.</p></li>
<li><p>If the user has signed into Facebook, but the app is not yet authorized
to use the account, the account store will return an empty array (except
in the simulator, which will return the configured account as the array&rsquo;s
only member).</p></li>
<li><p>If the user has signed into Facebook and the app is already authorized
to use the account, the account store will return an array with the
authorized account as the only entry.</p></li>
</ul>


<p>Unfortunately, the above assumptions are the only way to discover what we
need to know and quite likely will break in future releases of iOS. For that
reason, one should keep a close eye on this method to ensure support is
maintained throughout future releases.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SinglyFacebookService.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Singly, Inc. All rights reserved. (Last updated: 2013-09-23)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>